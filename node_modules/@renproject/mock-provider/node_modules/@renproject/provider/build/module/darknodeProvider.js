import { NullLogger } from "@renproject/interfaces";
import { HttpProvider } from "./httpProvider";
const parseDarknodeMultiaddress = (url) => {
    try {
        const [, , ip, , port, ,] = url.split("/");
        const fixedPort = port === "18514" ? "18515" : port;
        // TODO: Use HTTPS if supported
        const protocol = "http";
        return `${protocol}://${ip}:${fixedPort}`;
    }
    catch (error) {
        throw new Error(`Malformatted address: ${url}`);
    }
};
export class DarknodeProvider extends HttpProvider {
    constructor(multiAddress, logger = NullLogger) {
        super(parseDarknodeMultiaddress(multiAddress), logger);
    }
}
//# sourceMappingURL=darknodeProvider.js.map