"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeTestProvider = void 0;
const web3_js_1 = require("@solana/web3.js");
const tweetnacl_1 = __importDefault(require("tweetnacl"));
const makeTestProvider = (network, privatekey) => {
    const key = tweetnacl_1.default.sign.keyPair.fromSecretKey(privatekey);
    const pubk = new web3_js_1.PublicKey(key.publicKey);
    const provider = {
        connection: new web3_js_1.Connection(network.endpoint),
        wallet: {
            publicKey: pubk,
            signTransaction: async (x) => {
                const sig = tweetnacl_1.default.sign.detached(x.serializeMessage(), key.secretKey);
                x.addSignature(pubk, Buffer.from(sig));
                return x;
            },
        },
    };
    return provider;
};
exports.makeTestProvider = makeTestProvider;
//# sourceMappingURL=utils.js.map